<!DOCTYPE html>
<html lang="en">
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <link rel="stylesheet"  href="/static/js/AmazeUI-2.4.2/css/amazeui.css" type="text/css" />
    <link href="/static/css/dlstyle.css" rel="stylesheet" type="text/css">
    <script src="/static/js/layui/layui.js"></script>
    <script src="/static/js/jquery-3.4.1.min.js"></script>
</head>
<body>
<div class="container"
     style="width: 100%; height: 590px;  background-image:url('/static/images/login/show_19.png')">
    <div class="row text-center" style="width: 100%;height: 55px;background-color: #EBEBEB"></div>
    <div class="login-boxtitle"></div>
    <div class="login-banner">
        <div class="login-main">
            <div class="login-box">
                <h3 class="title" style="font-size: 15px">登录商城</h3>
                <p style="color: red;text-align: center" th:text="${errorInfo}" th:if="${not #strings.isEmpty(errorInfo)}"></p>
                <div class="clear"></div>
                <div class="login-form">
                    <form th:action="@{/user/login}"  method="post">
                        <div class="user-name">
                            <label for="userName"><i class="am-icon-user"></i></label>
                            <input type="text" name="userName" id="userName" placeholder="邮箱/手机/用户名">
                        </div>
                        <div class="user-pass">
                            <label for="password"><i class="am-icon-lock"></i></label>
                            <input type="password" name="password" id="password" placeholder="请输入密码">
                        </div>

                        <a href="javascript:findBackPassword()" class="am-fr" style="font-size: 7px;margin-bottom: 10px">忘记密码</a>
                        <a href="javascript:register()" class="zcnext am-fr am-btn-default">注册</a>
                        <button  id="loginSubmit"  class="am-btn am-btn-primary am-btn-sm"
                                style="width: 100%;height: 35px;padding-top: 5px;font-size: 19px;border-radius: 5px;margin-top: 20px">
                            登录
                        </button>
                    </form>
                </div>

                <div class="partner">
                    <h3>合作账号</h3>
                    <div class="am-btn-group">
                        <li><a href="#"><i class="am-icon-qq am-icon-sm"></i><span>QQ登录</span></a></li>
                        <li><a href="#"><i class="am-icon-weibo am-icon-sm"></i><span>微博登录</span> </a></li>
                        <li><a href="#"><i class="am-icon-weixin am-icon-sm"></i><span>微信登录</span> </a></li>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<script>
    layui.use(['layer'],function () {
        var layer = layui.layer;
        $("#loginSubmit").click(function () {
            if($("#userName").val().trim()==''&&$("#password").val().trim()==''){
                layer.alert('用户名和密码不能为空', {
                    skin: 'layui-layer-molv' //样式类名
                    ,closeBtn: 0
                })
                return false;
            }else if($("#userName").val().trim()==null||$("#userName").val().trim()==''){
                layer.alert('用户名不能为空', {
                    skin: 'layui-layer-molv' //样式类名
                    ,closeBtn: 0
                })
                return false;
            }else if($("#password").val().trim()==null||$("#password").val().trim()==''){
                layer.alert('密码不能为空', {
                    skin: 'layui-layer-lan'
                    ,closeBtn: 0
                })
                return false;
            }
            $("#loginSubmit").submit();
        })
    })


    //注册弹窗
    function register() {
        layui.use('layer',function () {
            var layer = layui.layer;
            layer.open({
                type:2,
                title:false,
                area:['450px','480px'],//宽高
                closeBtn:0,//不显示关闭按钮
                scrollbar:false,//在浏览器出现滚动条
                resize:false,//禁止拉伸
                move:false,//禁止拖拽
                shade:0.8,//遮罩
                anim:1,
                shadeClose:true,//开启遮罩关闭
                content:'/register.html',//路径
            })
        })
    }

    /**
     *
     */
    function findBackPassword() {
        /* var index = parent.layer.getFrameIndex(window.name);//得到当前iframe的索引
         parent.layer.close(index); //关闭当前iframe窗口*/
        layui.use('layer',function () {
            var layer = layui.layer;
            //新打开一个串口
            layer.open({
                type: 2,
                title: '修改密码',
                area: ['450px', '380px'],//宽高
                closeBtn: 0,//不显示关闭按钮
                scrollbar: false,//在浏览器出现滚动条
                resize: false,//禁止拉伸
                move: false,//禁止拖拽
                shade: 0.8,//遮罩
                anim: 1,
                shadeClose: true,//开启遮罩关闭
                content: '/findBackPassword.html',//路径
            });
        });
    }

</script>

</body>
</body>
</html>